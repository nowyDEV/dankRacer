(this.webpackJsonpdankracer=this.webpackJsonpdankracer||[]).push([[0],{15:function(e,t,n){e.exports=n.p+"static/media/carmageddon-max-damage.5d75e7d1.jpg"},18:function(e){e.exports=JSON.parse('[{"success":true,"game":{"isSinglePlayer":true,"numPlayers":1,"maxPlayers":1,"isJoinable":false,"isComplete":false,"isViewable":false,"starting":true,"started":false,"players":["5db9888724c4150014e10ab3"],"playerNames":["player3542"],"startingPlayers":[],"wasReset":false,"_id":"5db9888c24c4150014e10ab4","lang":"javascript","langName":"JavaScript","exercise":"5286d19434a63f1c7600001b","creator":"5db9888724c4150014e10ab3","status":"waiting","statusText":"Waiting","startTime":"2019-10-30T12:56:49.433Z","__v":0},"timeLeft":-4985,"exercise":{"_id":"5286d19434a63f1c7600001b","typeables":497,"typeableCode":"[\\n\'_readableState\',\\n\'_writableState\',\\n\'_transformState\'\\n].forEach(function(prop, i, props) {\\nObject.defineProperty(LazyTransform.prototype, prop, {\\nget: function() {\\nstream.Transform.call(this, this._options);\\nthis._writableState.decodeStrings = false;\\nthis._writableState.defaultEncoding = \'binary\';\\nreturn this[prop];\\n},\\nset: function(val) {\\nObject.defineProperty(this, prop, {\\nvalue: val,\\nenumerable: true,\\nconfigurable: true,\\nwritable: true\\n});\\n},\\nconfigurable: true,\\nenumerable: true\\n});\\n});\\n","code":"[\\n  \'_readableState\',\\n  \'_writableState\',\\n  \'_transformState\'\\n].forEach(function(prop, i, props) {\\n  Object.defineProperty(LazyTransform.prototype, prop, {\\n    get: function() {\\n      stream.Transform.call(this, this._options);\\n      this._writableState.decodeStrings = false;\\n      this._writableState.defaultEncoding = \'binary\';\\n      return this[prop];\\n    },\\n    set: function(val) {\\n      Object.defineProperty(this, prop, {\\n        value: val,\\n        enumerable: true,\\n        configurable: true,\\n        writable: true\\n      });\\n    },\\n    configurable: true,\\n    enumerable: true\\n  });\\n});\\n","projectName":"Node.js"},"nonTypeables":".comment,.template_comment,.diff,.javadoc,.phpdoc"},{"success":true,"game":{"isSinglePlayer":true,"numPlayers":1,"maxPlayers":1,"isJoinable":false,"isComplete":false,"isViewable":false,"starting":true,"started":false,"players":["5dbafe3208c8de00149a4bd5"],"playerNames":["player5887"],"startingPlayers":[],"wasReset":false,"_id":"5dbafe3708c8de00149a4bd6","lang":"javascript","langName":"JavaScript","exercise":"5286d19434a63f1c76000011","creator":"5dbafe3208c8de00149a4bd5","status":"waiting","statusText":"Waiting","startTime":"2019-10-31T15:31:08.185Z","__v":0},"timeLeft":-4959,"exercise":{"_id":"5286d19434a63f1c76000011","typeables":537,"typeableCode":"function voronoi(data) {\\nvar polygons = new Array(data.length),\\nx0 = clipExtent[0][0],\\ny0 = clipExtent[0][1],\\nx1 = clipExtent[1][0],\\ny1 = clipExtent[1][1];\\nd3_geom_voronoi(sites(data), clipExtent).cells.forEach(function(cell, i) {\\nvar edges = cell.edges,\\nsite = cell.site,\\npolygon = polygons[i] = edges.length ? edges.map(function(e) { var s = e.start(); return [s.x, s.y]; })\\n: site.x >= x0 && site.x <= x1 && site.y >= y0 && site.y <= y1 ? [[x0, y1], [x1, y1], [x1, y0], [x0, y0]]\\n: [];\\npolygon.point = data[i];\\n});\\nreturn polygons;\\n}\\n","code":"  function voronoi(data) {\\n    var polygons = new Array(data.length),\\n        x0 = clipExtent[0][0],\\n        y0 = clipExtent[0][1],\\n        x1 = clipExtent[1][0],\\n        y1 = clipExtent[1][1];\\n\\n    d3_geom_voronoi(sites(data), clipExtent).cells.forEach(function(cell, i) {\\n      var edges = cell.edges,\\n          site = cell.site,\\n          polygon = polygons[i] = edges.length ? edges.map(function(e) { var s = e.start(); return [s.x, s.y]; })\\n              : site.x >= x0 && site.x <= x1 && site.y >= y0 && site.y <= y1 ? [[x0, y1], [x1, y1], [x1, y0], [x0, y0]]\\n              : [];\\n      polygon.point = data[i];\\n    });\\n\\n    return polygons;\\n  }\\n","projectName":"d3.js"},"nonTypeables":".comment,.template_comment,.diff,.javadoc,.phpdoc"},{"success":true,"game":{"isSinglePlayer":true,"numPlayers":1,"maxPlayers":1,"isJoinable":false,"isComplete":false,"isViewable":false,"starting":true,"started":false,"players":["5dc42527d9de4b001447318b"],"playerNames":["player7132"],"startingPlayers":[],"wasReset":false,"_id":"5dc42590d9de4b001447318d","lang":"javascript","langName":"JavaScript","exercise":"5286d19434a63f1c76000013","creator":"5dc42527d9de4b001447318b","status":"waiting","statusText":"Waiting","startTime":"2019-11-07T14:09:25.833Z","__v":0},"timeLeft":-4986,"exercise":{"_id":"5286d19434a63f1c76000013","typeables":456,"typeableCode":"jQuery.extend({\\ndir: function( elem, dir, until ) {\\nvar matched = [],\\ntruncate = until !== undefined;\\nwhile ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {\\nif ( elem.nodeType === 1 ) {\\nif ( truncate && jQuery( elem ).is( until ) ) {\\nbreak;\\n}\\nmatched.push( elem );\\n}\\n}\\nreturn matched;\\n},\\nsibling: function( n, elem ) {\\nvar matched = [];\\nfor ( ; n; n = n.nextSibling ) {\\nif ( n.nodeType === 1 && n !== elem ) {\\nmatched.push( n );\\n}\\n}\\nreturn matched;\\n}\\n});\\n","code":"jQuery.extend({\\n        dir: function( elem, dir, until ) {\\n                var matched = [],\\n                        truncate = until !== undefined;\\n\\n                while ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {\\n                        if ( elem.nodeType === 1 ) {\\n                                if ( truncate && jQuery( elem ).is( until ) ) {\\n                                        break;\\n                                }\\n                                matched.push( elem );\\n                        }\\n                }\\n                return matched;\\n        },\\n\\n        sibling: function( n, elem ) {\\n                var matched = [];\\n\\n                for ( ; n; n = n.nextSibling ) {\\n                        if ( n.nodeType === 1 && n !== elem ) {\\n                                matched.push( n );\\n                        }\\n                }\\n\\n                return matched;\\n        }\\n});\\n","projectName":"jQuery"},"nonTypeables":".comment,.template_comment,.diff,.javadoc,.phpdoc"},{"success":true,"game":{"isSinglePlayer":true,"numPlayers":1,"maxPlayers":1,"isJoinable":false,"isComplete":false,"isViewable":false,"starting":true,"started":false,"players":["5dc432e9b5daad0014edc613"],"playerNames":["player6813"],"startingPlayers":[],"wasReset":false,"_id":"5dc432f0b5daad0014edc614","lang":"javascript","langName":"JavaScript","exercise":"5286d19434a63f1c7600001c","creator":"5dc432e9b5daad0014edc613","status":"waiting","statusText":"Waiting","startTime":"2019-11-07T15:06:29.040Z","__v":0},"timeLeft":-4946,"exercise":{"_id":"5286d19434a63f1c7600001c","typeables":338,"typeableCode":"fs.exists = function(path, callback) {\\nif (!nullCheck(path, cb)) return;\\nbinding.stat(pathModule._makeLong(path), cb);\\nfunction cb(err, stats) {\\nif (callback) callback(err ? false : true);\\n}\\n};\\nfs.existsSync = function(path) {\\ntry {\\nnullCheck(path);\\nbinding.stat(pathModule._makeLong(path));\\nreturn true;\\n} catch (e) {\\nreturn false;\\n}\\n};\\n","code":"fs.exists = function(path, callback) {\\n  if (!nullCheck(path, cb)) return;\\n  binding.stat(pathModule._makeLong(path), cb);\\n  function cb(err, stats) {\\n    if (callback) callback(err ? false : true);\\n  }\\n};\\n\\nfs.existsSync = function(path) {\\n  try {\\n    nullCheck(path);\\n    binding.stat(pathModule._makeLong(path));\\n    return true;\\n  } catch (e) {\\n    return false;\\n  }\\n};\\n","projectName":"Node.js"},"nonTypeables":".comment,.template_comment,.diff,.javadoc,.phpdoc"},{"success":true,"game":{"isSinglePlayer":true,"numPlayers":1,"maxPlayers":1,"isJoinable":false,"isComplete":false,"isViewable":false,"starting":true,"started":false,"players":["5dc432e9b5daad0014edc613"],"playerNames":["player6813"],"startingPlayers":[],"wasReset":false,"_id":"5dc43317b5daad0014edc615","lang":"javascript","langName":"JavaScript","exercise":"5286d19434a63f1c7600000a","creator":"5dc432e9b5daad0014edc613","status":"waiting","statusText":"Waiting","startTime":"2019-11-07T15:07:08.877Z","__v":0},"timeLeft":-4977,"exercise":{"_id":"5286d19434a63f1c7600000a","typeables":339,"typeableCode":"function pubSub(){\\nvar singles = {},\\nnewListener = newSingle(\'newListener\'),\\nremoveListener = newSingle(\'removeListener\');\\nfunction newSingle(eventName) {\\nreturn singles[eventName] = singleEventPubSub(\\neventName,\\nnewListener,\\nremoveListener\\n);\\n}\\nfunction pubSubInstance( eventName ){\\nreturn singles[eventName] || newSingle( eventName );\\n}\\n","code":"function pubSub(){\\n\\n   var singles = {},\\n       newListener = newSingle(\'newListener\'),\\n       removeListener = newSingle(\'removeListener\'); \\n      \\n   function newSingle(eventName) {\\n      return singles[eventName] = singleEventPubSub(\\n         eventName, \\n         newListener, \\n         removeListener\\n      );   \\n   }      \\n\\n   /** pubSub instances are functions */\\n   function pubSubInstance( eventName ){   \\n      \\n      return singles[eventName] || newSingle( eventName );   \\n   }\\n","projectName":"oboe.js"},"nonTypeables":".comment,.template_comment,.diff,.javadoc,.phpdoc"}]')},19:function(e,t,n){e.exports=n.p+"static/media/starcraftnormal.a66e56cf.woff"},20:function(e,t,n){e.exports=n.p+"static/media/starcraftnormal.c8bd7c63.woff2"},21:function(e,t,n){e.exports=n(30)},30:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),i=n.n(r),s=n(13),o=n.n(s),c=n(2),l=n(7),u=n(4),d={name:"1n2mv2k",styles:"display:flex;justify-content:center;align-items:center;"},p={color:{white:"#fff",black:"#000"},font:{small:"1.2rem",base:"1.6rem",medium:"2rem",large:"3rem"},fontFamily:{primary:'"HelveticaNeue", "Helvetica", "Arial", sans-serif',secondary:'"HelveticaNeue", "Helvetica", "Arial", sans-serif'},breakpoints:{desktop:90},transition:"400ms ease"},f=n(15),m=n.n(f),h=Object(u.a)("div",{target:"e1kcpdnn0"})("width:100%;height:100%;background:url('",m.a,"') no-repeat;background-size:cover;",d,";"),b=Object(u.a)("div",{target:"e1kcpdnn1"})("width:960px;height:calc(100vh - 100px);max-height:900px;background-color:rgba(0,0,0,0.6);color:white;position:relative;",d,";flex-flow:column wrap;justify-content:space-between;padding:30px;"),y=(p.font.medium,Object(u.a)("div",{target:"e1kcpdnn4"})("font-size:",p.font.medium,";")),g=Object(u.a)("div",{target:"e24cqv00"})({name:"8ywg1i",styles:"width:100%;max-width:300px;margin:30px auto;"}),v=Object(u.a)("img",{target:"e24cqv01"})({name:"1lo0bkj",styles:"display:block;width:100%;height:auto;object-fit:cover;"});var w=function(){return Object(a.d)(g,null,Object(a.d)(v,{src:"https://hotwheelsracetracks.files.wordpress.com/2012/06/img_2870.jpg",alt:"race track"}))},j=Object(u.a)("pre",{target:"ei8yj2i0"})({name:"1gp51q2",styles:"display:block;padding:10px;margin:0 0 10px;line-height:1.4286;color:#7b8a8b;word-break:break-all;word-wrap:break-word;background-color:#ecf0f1;border:1px solid #ccc;border-radius:4px;"}),k=Object(u.a)("code",{target:"ei8yj2i1"})("font-family:'Source Code Pro',monospace;font-size:",p.font.small,";display:block;padding:0.5em;color:#333;background:#f8f8ff;white-space:pre-wrap;border-radius:4px;.comment{opacity:0.7;}.code-char{&.untyped{opacity:0.7;}&.typed{opacity:1;}&.mistake{background-color:#df2e1b;color:#fff;}&.mistake-path{color:#df2e1b;}&.player.mistaken{background-color:#7f9293;color:#fff;}&.player{background-color:#1ac7a4;color:#fff;}&.opponent{background-color:#3498db;color:#fff;}&.return-char{text-align:center;display:inline-block;width:20px;visibility:hidden;&.mistake,&.mistaken-path,&.opponent,&.player{visibility:visible;}&::before{content:'\\23CE';}&.backspace-char::before{content:'\\232B';}}}"),x=n(9),O=n.n(x),S=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],C=["1","2","3","4","5","6","7","8","9","0"],E=["`","~","!","@","#","$","%","^","&","*","(",")","-","_","=","+","[","{","]","}","\\","|","'",'"',";",":","/","?",".",">",",","<"],P=["enter","space","shift+space","shift+enter"],T=["comment","template_comment","diff","javadoc","phpdoc"],L=n(3);function _(){var e=[].concat(Object(L.a)(S),Object(L.a)(S.map((function(e){return e.toUpperCase()}))));return[].concat(Object(L.a)(e),Object(L.a)(C),Object(L.a)(E),Object(L.a)(P))}function N(e){for(var t=e.previousElementSibling,n=[];t instanceof HTMLElement;)n.push(t),t=t.previousElementSibling;return n}function M(e){return function(e,t){return e instanceof HTMLElement&&t.some((function(t){return e.classList.contains(t)}))}(e,T)}var R=function(e){var t=[],n="";if(!(e instanceof HTMLElement))return n;var a=e.hasChildNodes()?e.childNodes:[];a.forEach((function(e,n){if(M(e)){var r=a[n-1],i=a[n+1];if(r instanceof HTMLElement&&i instanceof HTMLElement){var s=r.textContent||"",o=i.textContent||"";!s.match(/\n\s*$/)&&"\n"===o.charAt(0)&&t.push({char:"\n",beforeComment:!0,index:s.search(/\s*$/),elIndex:n-1,el:r})}}else{(e.textContent||"").split("").forEach((function(a,r){t.push({char:a,beforeComment:!1,index:r,elIndex:n,el:e})}))}}));var r=function(e,t,n){var a={},r=function(e,t){var n=e+1,r=t-n;if(r>0)for(var i=n;i<n+r;i++)a[i]=!0};return e.forEach((function(e,a){n.call(t,e,a,r)})),e.filter((function(e,t){return!a[t]}))};t=r(t,{leadingSearch:!0,trailingSearch:!1,lastNewline:-1,lastTypeable:-1,setMode:function(e){this.leadingSearch="leading"===e,this.trailingSearch="trailing"===e}},(function(e,t,n){" "!==e.char&&"\t"!==e.char&&("\n"===e.char?(this.trailingSearch&&(this.setMode("leading"),n(this.lastTypeable,t)),this.lastNewline=t):(this.leadingSearch&&(this.setMode("trailing"),n(this.lastNewline,t)),this.lastTypeable=t))})),t=r(t,{firstTypeableFound:!1,newlineFound:!1,typeableFound:!1,lastRelevantNewline:-1,setFound:function(e){this.newlineFound="newline"===e,this.typeableFound="typeable"===e,"typeable"===e&&(this.firstTypeableFound=!0)}},(function(e,t,n){" "!==e.char&&"\t"!==e.char&&("\n"===e.char?(this.firstTypeableFound&&!this.newlineFound&&(this.lastRelevantNewline=t),this.setFound("newline")):(this.newlineFound&&n(this.lastRelevantNewline,t),this.setFound("typeable")))}));var i=O.a.groupBy(t,(function(e){return e.elIndex}));return O.a.each(i,(function(t){var a=t[0].el,r=a.textContent||"",i=function(e,t){var n=[],a=0;return e.forEach((function(e){n.push(t.slice(a,e.index)),a=e.index+1,"\n"===e.char?(n.push('<span class="code-char return-char"></span>'),e.beforeComment||n.push("\n")):n.push('<span class="code-char">'.concat(e.char,"</span>"))})),n.push(t.slice(a,t.length)),n.join("")};if(3===a.nodeType)n=i(t,r);else{var s=a.attr("class"),o=e.querySelector(i(t,r));a.outerHTML=o,o instanceof HTMLElement&&o.classList.add(s)}})),e.querySelectorAll(".code-char").forEach((function(e){e.classList.add("untyped")})),n};var A=function(e){var t=i.a.useState(e),n=Object(c.a)(t,2),a=n[0],r=n[1];return[a,i.a.useCallback((function(e){null!==e&&r(R(e)||"")}),[])]},F=n(16);function H(e,t){var n,a=t.split(" ").filter((function(e){return e.length>0}));a.length>0&&(n=e.classList).add.apply(n,Object(L.a)(a))}var q=function e(t){var n=this;Object(F.a)(this,e),this.playerId=void 0,this.playerName=void 0,this.cursor=void 0,this.code=void 0,this.codeLength=void 0,this.pos=void 0,this.keystrokes=void 0,this.isMistaken=void 0,this.mistakePathLength=void 0,this.mistakes=void 0,this.mistakePositions=void 0,this.isMainPlayer=void 0,this.onCorrectKey=void 0,this.onAdvanceCursor=void 0,this.onRetreatCursor=void 0,this.onGameComplete=void 0,this.processKey=function(e){n.isMistaken?n.mistakePathKey():e===n.code.charAt(n.pos)?n.correctKey():n.incorrectKey()},this.advanceCursor=function(){n.advanceCursorWithClass(n.playerName)},this.advanceCursorWithClass=function(e){var t,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n.keystrokes+=1,n.pos+=1,(t=n.cursor.classList).remove.apply(t,Object(L.a)(e.split(" "))),n.isMainPlayer&&(n.cursor.classList.remove("untyped"),n.cursor.classList.add("typed")),H(n.cursor,r),n.cursor=n.cursor.nextElementSibling,(a=n.cursor.classList).add.apply(a,Object(L.a)(e.split(" "))),n.onAdvanceCursor.call(n,n)},this.retreatCursor=function(){n.retreatCursorWithClass(n.playerName)},this.retreatCursorWithClass=function(e){var t,a,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n.keystrokes+=1,n.pos-=1,n.mistakePathLength-=1,(t=n.cursor.classList).remove.apply(t,Object(L.a)(e.split(" ")));var s=N(n.cursor),o=Object(c.a)(s,1);n.cursor=o[0],(a=n.cursor.classList).remove.apply(a,Object(L.a)(i.split(" "))),n.isMainPlayer&&(n.cursor.classList.remove("typed"),n.cursor.classList.add("untyped")),(r=n.cursor.classList).add.apply(r,Object(L.a)(e.split(" "))),n.onRetreatCursor.call(n,n)},this.correctKey=function(){n.advanceCursorWithClass(n.playerName),n.onCorrectKey.call(n,n),n.pos===n.codeLength&&n.onGameComplete.call(n,n)},this.incorrectKey=function(){n.pos<n.codeLength-1&&(n.isMistaken=!0,n.mistakes+=1,n.mistakePositions.push(n.pos),n.advanceCursorWithClass(n.playerName,"mistake"),n.mistakePathLength+=1),n.cursor.classList.add("mistaken")},this.mistakePathKey=function(){n.pos<n.codeLength-1&&n.mistakePathLength<10&&(n.advanceCursorWithClass("".concat(n.playerName," mistaken"),"mistake-path"),n.mistakePathLength+=1)},this.backspaceKey=function(){n.isMistaken&&(n.retreatCursorWithClass("".concat(n.playerName," mistaken"),"mistake-path mistake"),0===n.mistakePathLength&&(n.isMistaken=!1,n.cursor.classList.remove("mistaken")))},this.destroy=function(){n.cursor.classList.remove(n.playerName)},this.playerId=t.playerId,this.playerName=t.playerName,this.cursor=t.cursor,this.code=t.code.trim(),this.codeLength=t.code.length,this.pos=0,this.keystrokes=0,this.isMistaken=!1,this.mistakePathLength=0,this.mistakes=0,this.mistakePositions=[],this.isMainPlayer=t.isMainPlayer||!1,this.onCorrectKey=t.onCorrectKey||function(){},this.onAdvanceCursor=t.onAdvanceCursor||function(){},this.onRetreatCursor=t.onRetreatCursor||function(){},this.onGameComplete=t.onGameComplete||function(){},this.cursor.classList.add(this.playerName)};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=n(28),K=function(e,t){switch(t.type){case"START_GAME":return I({},e,{startTime:t.payload});case"SET_CURSOR":return I({},e,{playerCursor:t.payload});default:throw new Error("Wrong action provided to the gameReducer")}};var G=function(e){var t=e.exercise,n=e.onProgress,r=e.onStart,s=A(t.code),o=Object(c.a)(s,2),l=o[0],u=o[1],d=i.a.useReducer(K,{time:null,startTime:null,code:null,playerCursor:null,opponents:0,opponentCursors:{}}),p=Object(c.a)(d,2),f=p[0],m=p[1],h=i.a.useState(!1),b=Object(c.a)(h,2),y=b[0],g=b[1];return i.a.useEffect((function(){if(!f.playerCursor){var e=document.querySelector(".code-char");e instanceof HTMLElement&&m({type:"SET_CURSOR",payload:new q({isMainPlayer:!0,playerId:"666",playerName:"player",cursor:e,code:t.typeableCode,onAdvanceCursor:function(e){!function(e){if(e.cursor.length){var t=window.innerHeight,n=e.cursor.getBoundingClientRect().top+document.body.scrollTop;window.pageYOffset+t-n<.25*t&&window.scrollTo(0,n-.25*t)}}(e),function(e){n(e.pos,e.codeLength)}(e)},onRetreatCursor:null,onGameComplete:function(e){console.log("emit ingame:complete",e)}})})}var a=document.getElementById("gamecode");a instanceof HTMLElement&&a.querySelectorAll(".code-char").forEach((function(e){e.classList.add("untyped")})),y||(m({type:"START_GAME",payload:new Date}),g(!0)),r()}),[l]),i.a.useEffect((function(){var e=function(e,t){e.preventDefault(),f.playerCursor.backspaceKey()},t=function(e,t){e.preventDefault();var n=["space","shift+space"].includes(t)?" ":["enter","shift+enter"].includes(t)?"\n":t;f.playerCursor.processKey(n)};return W.bind(_(),t),W.bind(["backspace","shift+backspace"],e),function(){W.unbind(_(),t),W.unbind(["backspace","shift+backspace"],e)}}),[f.playerCursor]),Object(a.d)(j,null,Object(a.d)(k,null,Object(a.d)("span",{ref:u,id:"gamecode",dangerouslySetInnerHTML:{__html:l}})))};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e,t){switch(t.type){case"START_GAME":return z({},e,{startTime:t.payload});case"MAKE_PROGRESS":return z({},e,{wpm:t.payload.wpm,progress:t.payload.progress});default:throw new Error("Wrong action provided to the appReducer")}};var B=function(e){var t=e.data,n=i.a.useReducer(U,{startTime:null,wpm:0,progress:0}),r=Object(c.a)(n,2),s=r[0],o=r[1];return Object(a.d)(h,null,Object(a.d)(b,null,Object(a.d)(G,{onStart:function(){return o({type:"START_GAME",payload:Date.now()})},exercise:t.exercise,onProgress:function(e,t){o({type:"MAKE_PROGRESS",payload:{progress:e/t,wpm:e/5/((Date.now()-(s.startTime||0))/6e4)}})}}),Object(a.d)(y,null,"".concat((100*s.progress).toFixed(0),"% completed ").concat(s.wpm?", ".concat(s.wpm.toFixed(0)," WPM"):"")),Object(a.d)(w,null)))},Q=n(10),V=n.n(Q),Z=n(17),$=n(18);var Y={requests:{getGameData:function(){return new Promise((function(e){return setTimeout((function(){return e($)}),1)}))}}};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e,t){switch(t.type){case"FETCH_INIT":return ee({},e,{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return ee({},e,{isLoading:!1,isError:!1,data:t.payload});case"FETCH_FAILURE":return ee({},e,{isLoading:!1,isError:!0});default:throw new Error("Wrong action provided to the dataFetchReducer")}};var ne=function(){var e=i.a.useReducer(te,{isLoading:!0,isError:!1,data:[]}),t=Object(c.a)(e,2),n=t[0],a=t[1];return i.a.useEffect((function(){(function(){var e=Object(Z.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"FETCH_INIT"}),e.prev=1,e.next=4,Y.requests.getGameData();case 4:t=e.sent,a({type:"FETCH_SUCCESS",payload:(n=t,n[Math.floor(Math.random()*n.length)])}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"FETCH_FAILURE"});case 11:case"end":return e.stop()}var n}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),[n]};var ae=function(){var e=ne(),t=Object(c.a)(e,1)[0],n=t.data,r=t.isLoading,i=t.isError;return r?Object(a.d)("div",null,"LOADING..."):i?Object(a.d)("div",null,"Error"):Object(a.d)(B,{data:n})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re={name:"txqadx",styles:"html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote::before,blockquote::after,q::before,q::after{content:'';}table{border-collapse:collapse;border-spacing:0;}"},ie=n(19),se=n.n(ie),oe=n(20),ce=n.n(oe),le=Object(a.c)("@font-face{font-family:'Starcraft';src:url(",ce.a,") format('woff2'),url(",se.a,") format('woff');font-weight:400;font-style:normal;font-display:swap;}");var ue=function(){return Object(a.d)(a.a,{styles:Object(a.c)(re,";",le,";*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}html{font-size:62.5%;height:100%;}body{font-family:",p.fontFamily.primary,";font-weight:400;width:100%;height:100%;color:",p.color.white,";-webkit-touch-callout:none;}.root{width:100%;height:100%;position:relative;}strong{font-weight:bold;}a{color:inherit;text-decoration:none;}button,input,a{border:0;background:none;&:focus{outline:none;}}")})};o.a.render(Object(a.d)(i.a.Fragment,null,Object(a.d)(ue,null),Object(a.d)(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.a4a6f75e.chunk.js.map